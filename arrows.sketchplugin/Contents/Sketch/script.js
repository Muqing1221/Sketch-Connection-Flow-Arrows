var that=this;function __skpm_run(e,t){that.context=t;var r=function(e){var t={};function r(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,r),a.l=!0,a.exports}return r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(o,a,function(t){return e[t]}.bind(null,a));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="./src/script.js")}({"./src/script.js":
/*!***********************!*\
  !*** ./src/script.js ***!
  \***********************/
/*! exports provided: default, createDefaultArrow, createAutoArrow, createRightArrow, createDownArrow, createLeftArrow, createUpArrow, updateSelectedArrows, updateArtboardArrows, updateAllArrows, deleteAllArrows, deleteArtboardArrows, deleteSelectedArrows, settings, onLayersMoved, panel */function(e,r,o){"use strict";o.r(r),o.d(r,"createDefaultArrow",function(){return m}),o.d(r,"createAutoArrow",function(){return v}),o.d(r,"createRightArrow",function(){return g}),o.d(r,"createDownArrow",function(){return S}),o.d(r,"createLeftArrow",function(){return w}),o.d(r,"createUpArrow",function(){return p}),o.d(r,"updateSelectedArrows",function(){return b}),o.d(r,"updateArtboardArrows",function(){return P}),o.d(r,"updateAllArrows",function(){return I}),o.d(r,"deleteAllArrows",function(){return x}),o.d(r,"deleteArtboardArrows",function(){return T}),o.d(r,"deleteSelectedArrows",function(){return A}),o.d(r,"settings",function(){return _}),o.d(r,"onLayersMoved",function(){return k}),o.d(r,"panel",function(){return M});var a,i=o(/*! sketch */"sketch"),n=o.n(i),l=o(/*! sketch/ui */"sketch/ui"),s=(o(/*! sketch/dom */"sketch/dom").SharedStyle,"flowArrows"),u=n.a.fromNative(t.document),c=t.document.documentData(),d=t.command.valueForKey_onLayer_forPluginIdentifier("arrowConnections",c,s),h=c.currentPage().currentArtboard()||c.currentPage(),f=N(),y=o(/*! sketch/settings */"sketch/settings");function m(e){V(e,null)}function v(e){V(e,"Auto")}function g(e){V(e,"Right")}function S(e){V(e,"Down")}function w(e){V(e,"Left")}function p(e){V(e,"Up")}function b(e){var t=e.selection;if(t.count()>1){for(var r=f,o=0;o<t.count();o++)if(t[o].objectID()!=t[0].objectID()){var a=F(t[0].objectID(),t[o].objectID(),r);null!=a?(D(r[a].firstObject,r[a].secondObject,r[a].style,r[a].type,r[a].direction,r[a].line,a),n.a.UI.message("Current connection is updated 🚀")):n.a.UI.message("There is no connection between selected layers on the plugin data")}e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s)}else n.a.UI.message("Please select more than two layers")}function P(e){var t,r,o=e.selection,a=N();if(a.length>0){for(var i=a.length,l=0;l<i;l++)t=(t=u.getLayerWithID(a[l].firstObject)).sketchObject.parentArtboard().objectID(),r=(r=u.getLayerWithID(a[l].secondObject)).sketchObject.parentArtboard().objectID(),1==o.count()&&"MSArtboardGroup"==o[0].class()&&(t==o[0].objectID()&&r==o[0].objectID()?D(a[l].firstObject,a[l].secondObject,a[l].style,a[l].type,a[l].direction,a[l].line,l):f.push(a[l]));e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s),n.a.UI.message("All arrows are updated 🚀")}else n.a.UI.message("There is nothing to update")}function I(e){var t=f;if(t.length>0){for(var r=t.length,o=0;o<r;o++)D(t[o].firstObject,t[o].secondObject,t[o].style,t[o].type,t[o].direction,t[o].line,o);e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s),n.a.UI.message("All arrows are updated 🚀")}else n.a.UI.message("There is nothing to update")}function x(e){if(f.length>0){for(var t=0;t<f.length;t++)K(f[t].line);e.command.setValue_forKey_onLayer_forPluginIdentifier(null,"arrowConnections",c,s),n.a.UI.message("All arrows are deleted")}else n.a.UI.message("There is nothing to delete")}function T(e){var t,r,o=e.selection;if(1==o.count()&&"MSArtboardGroup"==o[0].class()){var a=N();if(a.length>0){for(var i=a.length,l=0;l<i;l++)t=u.getLayerWithID(a[l].firstObject),r=u.getLayerWithID(a[l].secondObject),t.sketchObject.parentArtboard().objectID()==o[0].objectID()&&r.sketchObject.parentArtboard().objectID()==o[0].objectID()&&(K(a[l].line),f=O(l));e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s),n.a.UI.message("All arrows from selected artboard are deleted")}else n.a.UI.message("There is nothing to delete")}else n.a.UI.message("Please select one artboard")}function A(e){var t,r,o=e.selection;if(2==o.count()){for(var a=0;a<o.count();a++)if(o[a].objectID()!=o[0].objectID()){var i=N(),l=F(o[0].objectID(),o[a].objectID(),i);if(null!=l){K(i[l].line),f=O(l);for(var d=i.length,h=0;h<d;h++)t=u.getLayerWithID(i[h].firstObject),r=u.getLayerWithID(i[h].secondObject),t.sketchObject.parentArtboard().objectID()==o[0].objectID()&&r.sketchObject.parentArtboard().objectID()==o[0].objectID()&&(K(i[h].line),f=O(h));e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s),n.a.UI.message("All arrows from selected layers are deleted ✌️")}}}else n.a.UI.message("Select two layers, please 🧐")}function _(e){var t=COSAlertWindow.new();t=function(e,t,r){return e.setMessageText("Arrow Plugin Settings"),e.addButtonWithTitle("Update Settings"),e.addButtonWithTitle("Cancel"),e}(t);var r=NSView.alloc().initWithFrame(NSMakeRect(0,0,300,450));t.addAccessoryView(r);var o=R("Arrow Style",!0,-1,410,280,40);r.addSubview(o);var a=NSPopUpButton.alloc().initWithFrame(NSMakeRect(-2,410,300,20));L(a),r.addSubview(a);var i=R("Add layer style to your document that will contain $arrow name and you will be able to specify it here ",!1,-1,370,300,40);r.addSubview(i);var n=R("Arrow Type",!0,-1,320,280,40);r.addSubview(n);var u=NSPopUpButton.alloc().initWithFrame(NSMakeRect(-2,320,300,20));!function(e){var t=y.settingForKey("arrowType");t?("Angled"==t&&(e.addItemWithTitle("Angled"),e.lastItem().setState(1),e.addItemWithTitle("Curved"),e.lastItem().setState(0),e.addItemWithTitle("Straight"),e.lastItem().setState(0)),"Curved"==t&&(e.addItemWithTitle("Curved"),e.lastItem().setState(1),e.addItemWithTitle("Straight"),e.lastItem().setState(0),e.addItemWithTitle("Angled"),e.lastItem().setState(0)),"Straight"==t&&(e.addItemWithTitle("Straight"),e.lastItem().setState(1),e.addItemWithTitle("Angled"),e.lastItem().setState(0),e.addItemWithTitle("Curved"),e.lastItem().setState(0))):(e.addItemWithTitle("Angled"),e.addItemWithTitle("Curved"),e.addItemWithTitle("Straight"))}(u),r.addSubview(u);var d=R("Select one of the arrow types. Angled is used by default",!1,-1,280,300,40);r.addSubview(d);var h=R("Arrow Spacing",!0,-1,250,330,20);r.addSubview(h);var f=R("px",!0,90,230,330,20);r.addSubview(f);var m=NSTextField.alloc().initWithFrame(NSMakeRect(-2,230,80,20)),v=NSNumberFormatter.alloc().init().autorelease();m.setStringValue(String(0)),m.setFormatter(v),r.addSubview(m);var g=NSStepper.alloc().initWithFrame(NSMakeRect(70,230,20,20));g.setMaxValue(1e3),g.setMinValue(0),g.setValueWraps(!1),g.setAutorepeat(!0),g.setCOSJSTargetFunction(function(e){var t=0+e.integerValue();m.setStringValue(String(t))}),r.addSubview(g);var S=R("The second layer will be moved closer based on the value provided here. Keep it 0 if you don't want to have auto spacing feature ",!1,-1,165,300,60);r.addSubview(S);var w=R("Other Settings",!0,-1,120,280,40);r.addSubview(w);var p=function(e,t,r,o,a,i){var n=NSButton.alloc().initWithFrame(NSMakeRect(r,o,a,i));if(n.setButtonType(NSSwitchButton),n.setBezelStyle(0),n.setTitle(e),y.settingForKey("autoAlign")){var l=y.settingForKey("autoAlign");n.setState(l)}else n.setState(t);return n}("Second layer auto-align",!1,-1,110,260,40);r.addSubview(p);var b=R("Align the second layer for 5px misalignment with the first one",!1,-1,80,280,40);r.addSubview(b);var P=R("Made by @faridSabitov with the support of EPAM.com ❤️",!0,-1,30,280,40);r.addSubview(P),t.runModal()==NSAlertFirstButtonReturn&&(y.setSettingForKey("arrowDirection",t.views()[0].subviews()[1].title()),y.setSettingForKey("arrowSpacing",t.views()[0].subviews()[4].title()),e.command.setValue_forKey_onLayer_forPluginIdentifier(t.views()[0].subviews()[7].title(),"arrowStyle",c,s),y.setSettingForKey("arrowType",t.views()[0].subviews()[10].title()),y.setSettingForKey("autoAlign",t.views()[0].subviews()[13].state()),l.message("Settings are updated 🚀"))}function k(e){n.a.UI.message("Please select more than two layers");e.actionContext}function M(e){var t;(t=NSPanel.alloc().init()).setStyleMask(NSTitledWindowMask+NSFullSizeContentViewWindowMask),t.setTitleVisibility(NSWindowTitleHidden),t.setTitlebarAppearsTransparent(!0),t.setFrame_display(NSMakeRect(0,0,720,50),!1),t.setMovableByWindowBackground(!0),t.setHasShadow(!0),t.setLevel(NSFloatingWindowLevel),t.center(),t.makeKeyAndOrderFront(nil)}function D(e,t,r,o,a,i,n){var l=u.getLayerWithID(e),s=u.getLayerWithID(t);K(i),f=O(n),l&&s&&W(e,t,r,o,a)}function W(e,r,a,i,n){var l,d,m;l="Auto"==n?function(e,t){var r,o=u.getLayerWithID(e),a=u.getLayerWithID(t),i=o.frame.x+o.frame.width/2,n=o.frame.y+o.frame.height/2,l=a.frame.x+a.frame.width/2,s=a.frame.y+a.frame.height/2,c=i-l,d=n-s,h=Math.abs(c),f=Math.abs(d);r=l>i?s>n?c>d?"Down":"Right":h>f?"Right":"Up":s>n?h>f?"Left":"Down":c>d?"Left":"Up";return r}(e,r):n,m=null==i?y.settingForKey("arrowType"):i,d=B(t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s)),d=null!=a?null!=B(a)&&"Default Style"!=a?a:"Default Style":t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s)?t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s):"Default Style",function(e,t,r){var o=u.getLayerWithID(e),a=u.getLayerWithID(t);if(y.settingForKey("arrowSpacing")){var i=y.settingForKey("arrowSpacing");"Right"==r&&("30px"==i&&(a.frame.x=o.frame.x+o.frame.width+30),"70px"==i&&(a.frame.x=o.frame.x+o.frame.width+70)),"Down"==r&&("30px"==i&&(a.frame.y=o.frame.y+o.frame.height+30),"70px"==i&&(a.frame.y=o.frame.y+o.frame.height+70)),"Left"==r&&("30px"==i&&(a.frame.x=o.frame.x-a.frame.width-30),"70px"==i&&(a.frame.x=o.frame.x-a.frame.width-70)),"Up"==r&&("30px"==i&&(a.frame.y=o.frame.y-a.frame.height-30),"70px"==i&&(a.frame.y=o.frame.y-a.frame.height-70))}}(e,r,l),function(e,t,r){var o,a,i,n,l,s=u.getLayerWithID(e),c=u.getLayerWithID(t);y.settingForKey("autoAlign")&&1==y.settingForKey("autoAlign")&&("Right"!=r&&"Left"!=r||(o=s.frame.y+s.frame.height/2,a=c.frame.y+c.frame.height/2,(l=o-a)>-6&&l<6&&(c.frame.y=c.frame.y+l)),"Down"!=r&&"Up"!=r||(i=s.frame.x+s.frame.width/2,n=c.frame.x+c.frame.width/2,(l=i-n)>-6&&l<6&&(c.frame.x=c.frame.x+l)))}(e,r,l);var v=j(),g=function(e,r,o,a,i,n){var l,d,f,y,m,v,g,S,w,p=u.getLayerWithID(e),b=u.getLayerWithID(r),P=p.frame.changeBasis({from:p.parent,to:h}),I=b.frame.changeBasis({from:b.parent,to:h});n?(g=n.frame().x(),S=n.frame().y()):(g=0,S=0);var x=NSBezierPath.bezierPath();if("Angled"==a||null==a){"Up"==i&&(l=P.x+P.width/2-g,d=P.y-S,f=I.x+I.width/2-g,y=I.y+I.height-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(l,v)),x.lineToPoint(NSMakePoint(f,v)),x.lineToPoint(NSMakePoint(f,y))),"Right"==i&&(l=P.x+P.width-g,d=P.y+P.height/2-S,f=I.x-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(m,d)),x.lineToPoint(NSMakePoint(m,y)),x.lineToPoint(NSMakePoint(f,y))),"Down"==i&&(l=P.x+P.width/2-g,d=P.y+P.height-S,f=I.x+I.width/2-g,y=I.y-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(l,v)),x.lineToPoint(NSMakePoint(f,v)),x.lineToPoint(NSMakePoint(f,y))),"Left"==i&&(l=P.x-g,d=P.y+P.height/2-S,f=I.x+I.width-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(m,d)),x.lineToPoint(NSMakePoint(m,y)),x.lineToPoint(NSMakePoint(f,y)));var T=(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).layers().firstObject().points();T[1].cornerRadius=20,T[2].cornerRadius=20,w.setName("Arrow")}"Straight"==a&&("Up"==i&&(l=P.x+P.width/2-g,d=P.y-S,f=I.x+I.width/2-g,y=I.y+I.height-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y))),"Right"==i&&(l=P.x+P.width-g,d=P.y+P.height/2-S,f=I.x-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y))),"Down"==i&&(l=P.x+P.width/2-g,d=P.y+P.height-S,f=I.x+I.width/2-g,y=I.y-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y))),"Left"==i&&(l=P.x-g,d=P.y+P.height/2-S,f=I.x+I.width-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y))),(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).setName("Arrow"));if("Curved"==a){if("Up"==i){l=P.x+P.width/2-g,d=P.y-S,f=I.x+I.width/2-g,y=I.y+I.height-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y));var A=(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).layers().firstObject().points();A[0].curveMode=A[1].curveMode=4,A[0].hasCurveFrom=A[1].hasCurveTo=!0,l<f?(A[0].curveFrom={x:0,y:.5},A[0].curveTo={x:-.5,y:1},A[1].curveFrom={x:1,y:1},A[1].curveTo={x:1,y:.5}):(A[0].curveFrom={x:1,y:.5},A[0].curveTo={x:-.5,y:1},A[1].curveFrom={x:1,y:1},A[1].curveTo={x:0,y:.5})}if("Right"==i){l=P.x+P.width-g,d=P.y+P.height/2-S,f=I.x-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y));var _=(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).layers().firstObject().points();_[0].curveMode=_[1].curveMode=4,_[0].hasCurveFrom=_[1].hasCurveTo=!0,d<y?(_[0].curveFrom={x:.5,y:0},_[0].curveTo={x:-.5,y:1},_[1].curveFrom={x:1,y:1},_[1].curveTo={x:.5,y:1}):(_[0].curveFrom={x:.5,y:1},_[0].curveTo={x:-.5,y:1},_[1].curveFrom={x:1,y:1},_[1].curveTo={x:.5,y:0})}if("Down"==i){l=P.x+P.width/2-g,d=P.y+P.height-S,f=I.x+I.width/2-g,y=I.y-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y));var k=(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).layers().firstObject().points();k[0].curveMode=k[1].curveMode=4,k[0].hasCurveFrom=k[1].hasCurveTo=!0,l<f?(k[0].curveFrom={x:0,y:.5},k[0].curveTo={x:-.5,y:1},k[1].curveFrom={x:1,y:1},k[1].curveTo={x:1,y:.5}):(k[0].curveFrom={x:1,y:.5},k[0].curveTo={x:-.5,y:1},k[1].curveFrom={x:1,y:1},k[1].curveTo={x:0,y:.5})}if("Left"==i){l=P.x-g,d=P.y+P.height/2-S,f=I.x+I.width-g,y=I.y+I.height/2-S,m=(l+f)/2,v=(d+y)/2,x.moveToPoint(NSMakePoint(l,d)),x.lineToPoint(NSMakePoint(f,y));var M=(w=MSShapeGroup.layerWithPath(MSPath.pathWithBezierPath(x))).layers().firstObject().points();M[0].curveMode=M[1].curveMode=4,M[0].hasCurveFrom=M[1].hasCurveTo=!0,d<y?(M[0].curveFrom={x:.5,y:0},M[0].curveTo={x:-.5,y:1},M[1].curveFrom={x:1,y:1},M[1].curveTo={x:.5,y:1}):(M[0].curveFrom={x:.5,y:1},M[0].curveTo={x:-.5,y:1},M[1].curveFrom={x:1,y:1},M[1].curveTo={x:.5,y:0})}w.setName("Arrows")}if(null==o)if(t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s)){var D=B(t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s));if(null==D[0]){var W=w.style().addStylePartOfType(1);W.color=MSColor.colorWithRGBADictionary({r:.89,g:.89,b:.89,a:1}),W.thickness=2,w.style().endMarkerType=2}else w.sharedStyle=D[0]}else{var j=w.style().addStylePartOfType(1);j.color=MSColor.colorWithRGBADictionary({r:.89,g:.89,b:.89,a:1}),j.thickness=2,w.style().endMarkerType=2}else if("Default Style"==o){var N=w.style().addStylePartOfType(1);N.color=MSColor.colorWithRGBADictionary({r:.89,g:.89,b:.89,a:1}),N.thickness=2,w.style().endMarkerType=2}else{var F=B(o);w.sharedStyle=F[0]}return w}(e,r,d,m,l,v);!function(e,t){if(t)t.addLayers([e]),t.fixGeometryWithOptions(1);else{var r=o(/*! sketch/dom */"sketch/dom").Group,a=new r({parent:h,name:"Arrows",locked:!0,layers:[e]});a.moveToBack(),(t=j()).fixGeometryWithOptions(1)}}(g,v);var S={firstObject:e,secondObject:r,style:d,type:m,direction:l,line:g.objectID()};f.push(S)}function j(){for(var e=null,t=0;t<h.layers().count();t++)"Arrows"==h.layers()[t].name()&&C(e=h.layers()[t]);return e}function N(){var e=[],r=[];if(d){r=t.command.valueForKey_onLayer_forPluginIdentifier("arrowConnections",c,s);for(var o=0;o<r.length;o++)e.push(r[o])}return e}function F(e,t,r){var o=null;if(e=String(e),t=String(t),d)for(var a=0;a<r.length;a++)e!=r[a].firstObject&&e!=r[a].secondObject||t!=r[a].firstObject&&t!=r[a].secondObject||(o=a);return o}function L(e){var r=t.command.valueForKey_onLayer_forPluginIdentifier("arrowStyle",c,s),o=B(null);if(r)if("Default Style"!=r){e.addItemWithTitle(r),e.addItemWithTitle("Default Style");for(var a=0;a<o.length;a++)o[a].name()!=r&&e.addItemWithTitle(o[a].name())}else{e.addItemWithTitle("Default Style");for(var i=0;i<o.length;i++)e.addItemWithTitle(o[i].name())}else{e.addItemWithTitle("Default Style");for(var n=0;n<o.length;n++)e.addItemWithTitle(o[n].name())}}function O(e){var r=[];if(d)for(var o=t.command.valueForKey_onLayer_forPluginIdentifier("arrowConnections",c,s),a=0;a<o.length;a++)a!=e&&r.push(o[a]);return r}function C(e){for(var t=0;t<e.layers().length;t++);}function K(e){var t,r=u.getLayerWithID(e);r&&(t=r.parent,r.remove(),0==t.layers.length&&t.remove())}function U(e,t,r){var o,a=u.getLayerWithID(e),i=u.getLayerWithID(t);return"Auto"==r&&(o=a.id),"Right"==r&&(o=a.frame.x<=i.frame.x?a.id:i.id),"Down"==r&&(o=a.frame.y<=i.frame.y?a.id:i.id),"Left"==r&&(o=a.frame.x<=i.frame.x?i.id:a.id),"Up"==r&&(o=a.frame.y<=i.frame.y?i.id:a.id),o}function R(e,t,r,o,a,i){var n=NSTextField.alloc().initWithFrame(NSMakeRect(r,o,a,i));return n.setStringValue(e),n.setSelectable(!1),n.setDrawsBackground(!1),n.setBezeled(!1),0==t&&(n.textColor=NSColor.disabledControlTextColor()),n}function B(e){var t=c.allLayerStyles(),r=[];if(null==e)for(var o=0;o<t.count();o++)t[o].name().includes("$arrow")&&r.push(t[o]);else for(var a=0;a<t.count();a++)t[a].name()==e&&r.push(t[a]);return r}function V(e,t){var r,o=e.selection;if(r=null==t?a:t,o.count()>1){for(var i=function(e,t){var r=e.firstObject().objectID();if("Auto"!=t)for(var o=0;o<e.count();o++)r=U(r,e[o].objectID(),t);else r=U(r,e[0].objectID(),t);return r}(o,t),l=f,u=0;u<o.count();u++)if(o[u].objectID()!=i){var d=F(i,o[u].objectID(),l);null!=d?(D(i,o[u].objectID(),null,null,r,l[d].line,d),n.a.UI.message("Current connection is updated 🚀")):(W(i,o[u].objectID(),null,null,r),n.a.UI.message("New connection is created 🚀"))}e.command.setValue_forKey_onLayer_forPluginIdentifier(f,"arrowConnections",c,s)}else n.a.UI.message("Please select more than two layers")}a=y.settingForKey("arrowDirection")?y.settingForKey("arrowDirection"):"Auto",r.default=function(e){}},sketch:
/*!*************************!*\
  !*** external "sketch" ***!
  \*************************/
/*! no static exports found */function(e,t){e.exports=require("sketch")},"sketch/dom":
/*!*****************************!*\
  !*** external "sketch/dom" ***!
  \*****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/dom")},"sketch/settings":
/*!**********************************!*\
  !*** external "sketch/settings" ***!
  \**********************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/settings")},"sketch/ui":
/*!****************************!*\
  !*** external "sketch/ui" ***!
  \****************************/
/*! no static exports found */function(e,t){e.exports=require("sketch/ui")}});"default"===e&&"function"==typeof r?r(t):r[e](t)}that.createAutoArrow=__skpm_run.bind(this,"createAutoArrow"),that.onRun=__skpm_run.bind(this,"default"),that.createRightArrow=__skpm_run.bind(this,"createRightArrow"),that.createDownArrow=__skpm_run.bind(this,"createDownArrow"),that.createLeftArrow=__skpm_run.bind(this,"createLeftArrow"),that.createUpArrow=__skpm_run.bind(this,"createUpArrow"),that.updateSelectedArrows=__skpm_run.bind(this,"updateSelectedArrows"),that.updateArtboardArrows=__skpm_run.bind(this,"updateArtboardArrows"),that.updateAllArrows=__skpm_run.bind(this,"updateAllArrows"),that.deleteSelectedArrows=__skpm_run.bind(this,"deleteSelectedArrows"),that.deleteArtboardArrows=__skpm_run.bind(this,"deleteArtboardArrows"),that.deleteAllArrows=__skpm_run.bind(this,"deleteAllArrows"),that.settings=__skpm_run.bind(this,"settings"),that.panel=__skpm_run.bind(this,"panel");